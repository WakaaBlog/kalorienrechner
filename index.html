<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Kalorienrechner â€“ Wakaa Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      background-color: #2a1c16;
      color: #f5f5f5;
      font-family: sans-serif;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 500px;
      margin: auto;
      background-color: #3a2b22;
      padding: 20px;
      border-radius: 16px;
    }
    h1 {
      text-align: center;
      font-size: 24px;
      color: #ffffff;
    }
    .section-title {
      margin-top: 20px;
      margin-bottom: 8px;
      font-weight: bold;
    }
    .button-group button,
    .goal-group button {
      width: 48%;
      margin: 1%;
      padding: 12px;
      border: 2px solid #99ccff;
      background-color: transparent;
      color: #f5f5f5;
      font-weight: bold;
      border-radius: 10px;
      cursor: pointer;
    }
    .button-group button.active,
    .goal-group button.active {
      background-color: #99ccff;
      color: #2a1c16;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin: 6px 0 16px;
      border-radius: 8px;
      border: none;
      font-size: 16px;
    }
    .result {
      margin-top: 20px;
      background-color: #1f1612;
      padding: 16px;
      border-radius: 10px;
      text-align: center;
    }
    .result h2 {
      font-size: 22px;
      margin-bottom: 10px;
    }
    .macros span {
      display: block;
      margin: 5px 0;
    }
    .submit-btn {
      width: 100%;
      padding: 12px;
      font-size: 18px;
      background-color: #99ccff;
      color: #2a1c16;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Kalorienrechner</h1>
    <p style="text-align:center; font-size:14px; color:#ccc">Berechne deinen Bedarf auf Basis deines Ziels & Alltags.</p>

    <div class="section-title">Geschlecht</div>
    <div class="button-group">
      <button onclick="setGender('female')" id="btn-female">Weiblich</button>
      <button onclick="setGender('male')" id="btn-male">MÃ¤nnlich</button>
    </div>

    <label>Alter</label>
    <input type="number" id="age">
    <label>Gewicht (kg)</label>
    <input type="number" id="weight">
    <label>GrÃ¶ÃŸe (cm)</label>
    <input type="number" id="height">
    <label>KÃ¶rperfettanteil (%) â€“ optional</label>
    <input type="number" id="bodyfat" placeholder="z.â€¯B. 22">
    <label>Sport pro Woche (z.â€¯B. 3)</label>
    <input type="number" id="sport">

    <label>AlltagsaktivitÃ¤t</label>
    <select id="activity">
      <option value="1.2">Kaum aktiv</option>
      <option value="1.375">Leicht aktiv</option>
      <option value="1.55">Moderat aktiv</option>
      <option value="1.725">Sehr aktiv</option>
    </select>

    <div class="section-title">Ziel</div>
    <div class="goal-group">
      <button onclick="setGoal('deficit')" id="goal-deficit">Abnehmen</button>
      <button onclick="setGoal('maintain')" id="goal-maintain">Gewicht halten</button>
      <button onclick="setGoal('surplus')" id="goal-surplus">Zunehmen</button>
    </div>

    <button class="submit-btn" onclick="calculate()">Jetzt berechnen</button>

    <div class="result" id="result" style="display:none">
      <h2>Dein Ergebnis ðŸŽ¯</h2>
      <div><strong id="calories"></strong> kcal pro Tag</div>
      <div class="macros">
        <span id="protein"></span>
        <span id="carbs"></span>
        <span id="fat"></span>
      </div>
    </div>
  </div>

  <script>
    let selectedGender = '';
    let selectedGoal = '';

    function setGender(g) {
      selectedGender = g;
      document.getElementById('btn-male').classList.remove('active');
      document.getElementById('btn-female').classList.remove('active');
      document.getElementById('btn-' + g).classList.add('active');
    }

    function setGoal(g) {
      selectedGoal = g;
      document.getElementById('goal-deficit').classList.remove('active');
      document.getElementById('goal-maintain').classList.remove('active');
      document.getElementById('goal-surplus').classList.remove('active');
      document.getElementById('goal-' + g).classList.add('active');
    }

    function calculate() {
      const age = +document.getElementById('age').value;
      const weight = +document.getElementById('weight').value;
      const height = +document.getElementById('height').value;
      const bodyfat = +document.getElementById('bodyfat').value;
      const activity = +document.getElementById('activity').value;
      const sport = +document.getElementById('sport').value || 0;

      if (!selectedGender || !selectedGoal || !age || !weight || !height) {
        alert('Bitte alle Felder ausfÃ¼llen und Optionen wÃ¤hlen.');
        return;
      }

      let bmr;

      if (bodyfat && bodyfat > 0 && bodyfat < 70) {
        const leanMass = weight * (1 - bodyfat / 100);
        bmr = 370 + (21.6 * leanMass);
      } else {
        bmr = selectedGender === 'male'
          ? 10 * weight + 6.25 * height - 5 * age + 5
          : 10 * weight + 6.25 * height - 5 * age - 161;
      }

      const activityFactor = activity + sport * 0.05;
      let tdee = bmr * activityFactor;

      if (selectedGoal === 'deficit') tdee -= 300;
      if (selectedGoal === 'surplus') tdee += 300;

      const calories = Math.round(tdee);
      const protein = Math.round(weight * 1.8);
      const fat = Math.round((calories * 0.25) / 9);
      const carbs = Math.round((calories - (protein * 4 + fat * 9)) / 4);

      document.getElementById('calories').innerText = calories;
      document.getElementById('protein').innerText = protein + 'g Protein';
      document.getElementById('carbs').innerText = carbs + 'g Kohlenhydrate';
      document.getElementById('fat').innerText = fat + 'g Fett';
      document.getElementById('result').style.display = 'block';
    }
  </script>
</body>
</html>
